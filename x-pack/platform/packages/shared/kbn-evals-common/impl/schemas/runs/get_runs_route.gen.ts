/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the Elastic License
 * 2.0; you may not use this file except in compliance with the Elastic License
 * 2.0.
 */

/*
 * NOTICE: Do not edit this file manually.
 * This file is automatically generated by the OpenAPI Generator, @kbn/openapi-generator.
 *
 * info:
 *   title: Get Evaluation Runs API endpoint
 *   version: 1
 */

import { z } from '@kbn/zod';

import { Model, BuildkiteMetadata } from '../common_attributes.gen';

export type EvaluationRunSummary = z.infer<typeof EvaluationRunSummary>;
export const EvaluationRunSummary = z.object({
  run_id: z.string(),
  timestamp: z.string(),
  suite_id: z.string().optional(),
  task_model: Model.optional(),
  evaluator_model: Model.optional(),
  git_branch: z.string().nullable().optional(),
  git_commit_sha: z.string().nullable().optional(),
  total_repetitions: z.number().int().optional(),
  ci: BuildkiteMetadata.optional(),
});

export type GetEvaluationRunsRequestQuery = z.infer<typeof GetEvaluationRunsRequestQuery>;
export const GetEvaluationRunsRequestQuery = z.object({
  /**
   * Filter by suite ID
   */
  suite_id: z.string().optional(),
  /**
   * Filter by task model ID
   */
  model_id: z.string().optional(),
  /**
   * Filter by git branch
   */
  branch: z.string().optional(),
  page: z.coerce.number().int().min(1).optional().default(1),
  per_page: z.coerce.number().int().min(1).max(100).optional().default(25),
});
export type GetEvaluationRunsRequestQueryInput = z.input<typeof GetEvaluationRunsRequestQuery>;

export type GetEvaluationRunsResponse = z.infer<typeof GetEvaluationRunsResponse>;
export const GetEvaluationRunsResponse = z.object({
  runs: z.array(EvaluationRunSummary),
  total: z.number().int(),
});
